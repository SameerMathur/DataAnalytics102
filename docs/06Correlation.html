<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Analytics 102 -- Applied Statistics and Regression Using R – correlation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Analytics 102 – Applied Statistics and Regression Using R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.qatar.cmu.edu/directory/sameer-mathur/" rel="" target="_blank"><i class="bi bi-globe" role="img">
</i> 
 <span class="menu-text">Sameer Mathur</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://docs.google.com/document/d/15Li_DpXPSA6NXyXyCzM3vUu766RBq87W/edit?usp=sharing&amp;ouid=100224206438187222136&amp;rtpof=true&amp;sd=true" rel="" target="_blank"><i class="bi bi-globe" role="img">
</i> 
 <span class="menu-text">Aryeman Gupta Mathur</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/SameerMathur/DataAnalytics102" rel="" target="_blank"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text">Book’s Github</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./06Correlation.html">Correlation Analysis</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/openscapes_hex.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01GettingStarted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02ZTests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Z Tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03ChiSquareTests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chi-Square Tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04TTest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">t-tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05ANOVA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06Correlation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Correlation Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07LinearRegression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Regression.</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08Interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09LogLinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Log-Linear Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10LogLog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Log-Log Regression</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="BookCover102.png" class="img-fluid"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#correlation-analysis" id="toc-correlation-analysis" class="nav-link active" data-scroll-target="#correlation-analysis">Correlation Analysis</a>
  <ul class="collapse">
  <li><a href="#business-applications-of-correlation-analysis" id="toc-business-applications-of-correlation-analysis" class="nav-link" data-scroll-target="#business-applications-of-correlation-analysis">Business Applications of Correlation Analysis</a>
  <ul class="collapse">
  <li><a href="#marketing" id="toc-marketing" class="nav-link" data-scroll-target="#marketing">Marketing</a></li>
  <li><a href="#finance" id="toc-finance" class="nav-link" data-scroll-target="#finance">Finance</a></li>
  <li><a href="#organizational-behavior" id="toc-organizational-behavior" class="nav-link" data-scroll-target="#organizational-behavior">Organizational Behavior</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#mean-standard-deviation-covariance" id="toc-mean-standard-deviation-covariance" class="nav-link" data-scroll-target="#mean-standard-deviation-covariance">Mean, Standard Deviation, Covariance</a>
  <ul class="collapse">
  <li><a href="#mean" id="toc-mean" class="nav-link" data-scroll-target="#mean">Mean</a></li>
  <li><a href="#standard-deviation" id="toc-standard-deviation" class="nav-link" data-scroll-target="#standard-deviation">Standard Deviation</a></li>
  <li><a href="#calculating-mean-and-standard-deviation-in-r" id="toc-calculating-mean-and-standard-deviation-in-r" class="nav-link" data-scroll-target="#calculating-mean-and-standard-deviation-in-r">Calculating Mean and Standard Deviation in R</a></li>
  <li><a href="#covariance" id="toc-covariance" class="nav-link" data-scroll-target="#covariance">Covariance</a></li>
  <li><a href="#calculating-covariance-in-r" id="toc-calculating-covariance-in-r" class="nav-link" data-scroll-target="#calculating-covariance-in-r">Calculating Covariance in R</a></li>
  </ul></li>
  <li><a href="#pearsons-correlation" id="toc-pearsons-correlation" class="nav-link" data-scroll-target="#pearsons-correlation">Pearson’s Correlation</a>
  <ul class="collapse">
  <li><a href="#pearsons-correlation-coefficient" id="toc-pearsons-correlation-coefficient" class="nav-link" data-scroll-target="#pearsons-correlation-coefficient">Pearson’s Correlation Coefficient</a></li>
  <li><a href="#formula" id="toc-formula" class="nav-link" data-scroll-target="#formula">Formula</a></li>
  <li><a href="#calculating-pearsons-correlation-coefficient-in-r" id="toc-calculating-pearsons-correlation-coefficient-in-r" class="nav-link" data-scroll-target="#calculating-pearsons-correlation-coefficient-in-r">Calculating Pearson’s Correlation Coefficient in R</a></li>
  <li><a href="#assessing-the-relationship-using-scatter-plot" id="toc-assessing-the-relationship-using-scatter-plot" class="nav-link" data-scroll-target="#assessing-the-relationship-using-scatter-plot">Assessing the Relationship using Scatter Plot</a></li>
  <li><a href="#correlation-matrix" id="toc-correlation-matrix" class="nav-link" data-scroll-target="#correlation-matrix">Correlation Matrix</a></li>
  <li><a href="#creating-a-correlation-matrix-in-r" id="toc-creating-a-correlation-matrix-in-r" class="nav-link" data-scroll-target="#creating-a-correlation-matrix-in-r">Creating a Correlation Matrix in R</a></li>
  <li><a href="#creating-a-scatter-plot-matrix-in-r" id="toc-creating-a-scatter-plot-matrix-in-r" class="nav-link" data-scroll-target="#creating-a-scatter-plot-matrix-in-r">Creating a Scatter Plot Matrix in R</a></li>
  <li><a href="#hypothesis-testing-for-correlation" id="toc-hypothesis-testing-for-correlation" class="nav-link" data-scroll-target="#hypothesis-testing-for-correlation">Hypothesis Testing for Correlation</a></li>
  <li><a href="#hypothesis-test-for-pearsons-correlation-coefficient-in-r" id="toc-hypothesis-test-for-pearsons-correlation-coefficient-in-r" class="nav-link" data-scroll-target="#hypothesis-test-for-pearsons-correlation-coefficient-in-r">Hypothesis Test for Pearson’s correlation coefficient in R</a></li>
  <li><a href="#visualizing-correlation-matrix-using-corrgram" id="toc-visualizing-correlation-matrix-using-corrgram" class="nav-link" data-scroll-target="#visualizing-correlation-matrix-using-corrgram">Visualizing Correlation Matrix using <code>corrgram</code></a></li>
  <li><a href="#visualizing-correlation-matrix-using-corrplot" id="toc-visualizing-correlation-matrix-using-corrplot" class="nav-link" data-scroll-target="#visualizing-correlation-matrix-using-corrplot">Visualizing Correlation Matrix using <code>corrplot</code></a></li>
  <li><a href="#visualizing-correlation-matrix-using-corrplot-1" id="toc-visualizing-correlation-matrix-using-corrplot-1" class="nav-link" data-scroll-target="#visualizing-correlation-matrix-using-corrplot-1">Visualizing Correlation Matrix using <code>corrplot</code></a></li>
  </ul></li>
  <li><a href="#spearmans-correlation" id="toc-spearmans-correlation" class="nav-link" data-scroll-target="#spearmans-correlation">Spearman’s Correlation</a>
  <ul class="collapse">
  <li><a href="#assumptions-in-pearsons-correlation-coefficient" id="toc-assumptions-in-pearsons-correlation-coefficient" class="nav-link" data-scroll-target="#assumptions-in-pearsons-correlation-coefficient">Assumptions in Pearson’s Correlation Coefficient</a></li>
  <li><a href="#spearmans-correlation-coefficient" id="toc-spearmans-correlation-coefficient" class="nav-link" data-scroll-target="#spearmans-correlation-coefficient">Spearman’s Correlation Coefficient</a></li>
  <li><a href="#calculating-spearmans-correlation-coefficient-in-r" id="toc-calculating-spearmans-correlation-coefficient-in-r" class="nav-link" data-scroll-target="#calculating-spearmans-correlation-coefficient-in-r">Calculating Spearman’s Correlation Coefficient in R</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="06Correlation.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="correlation-analysis" class="level1">
<h1>Correlation Analysis</h1>
<p><em>July 26, 2023</em></p>
<ol type="1">
<li><p>Correlation is a statistical measure that describes the <strong>direction and strength of two variables’ relationship</strong>.</p></li>
<li><p>It is used to determine whether two variables have a relationship and <strong>how closely are the two variables are related</strong>.</p></li>
<li><p>The Pearson’s <span class="math inline">\(r\)</span>, or correlation coefficient, ranges from -1 to 1.</p></li>
</ol>
<ul>
<li><p>A value of <strong>-1</strong> denotes a <strong>perfect negative correlation</strong>, in which one variable decreases as the other increases.</p></li>
<li><p>A value of <strong>1</strong> denotes a <strong>perfect positive correlation</strong>, in which both variables increase or decrease simultaneously.</p></li>
<li><p>A value of <strong>0</strong> indicates that there is <strong>no relationship</strong> between the two variables.</p></li>
</ul>
<section id="business-applications-of-correlation-analysis" class="level2">
<h2 class="anchored" data-anchor-id="business-applications-of-correlation-analysis">Business Applications of Correlation Analysis</h2>
<section id="marketing" class="level3">
<h3 class="anchored" data-anchor-id="marketing">Marketing</h3>
<p>Correlation analysis can prove beneficial in analyzing different aspects of Marketing such as customer behavior, advertising effectiveness and customer satisfaction.</p>
<ol type="1">
<li><p><strong>Customer Behavior:</strong> Correlation analysis can be used to understand the relationships between customer behavior, such as <strong>product purchase history</strong>, and <strong>demographic data</strong>, such as age and income.</p></li>
<li><p><strong>Advertising effectiveness</strong>: Correlation analysis can be used to better understand the relationship between <strong>advertising spend</strong> and <strong>sales</strong>. This can assist marketers in determining the most effective advertising channels and optimizing their advertising budget.</p></li>
<li><p><strong>Customer Satisfaction:</strong> Correlation analysis can help understand the connection between customer satisfaction and product features. This can help marketers understand what features are most important to their customers and inform product design decisions.</p></li>
</ol>
</section>
<section id="finance" class="level3">
<h3 class="anchored" data-anchor-id="finance">Finance</h3>
<p>Studying numerous facets of finance, such as portfolio diversification, risk management, asset pricing, and credit risk management, might benefit from correlation analysis.</p>
<ol type="1">
<li><p><strong>Portfolio diversification:</strong> Correlation can describe how closely related are the assets in a portfolio to one another. Investors can reduce their exposure to risk and diversify their holdings by knowing the correlation between various assets. If two assets have a high positive correlation, investment in both assets may not offer much diversification benefit. The benefits of diversification become larger, in case the correlation between two assets is low or negative.</p></li>
<li><p><strong>Risk management:</strong> Correlation can be used to assess the interaction between different risk indicators including <strong>interest rates, market volatility, and credit risk</strong>. By understanding the relationship between these components, investors may more effectively control their risk exposure and safeguard their portfolios from potential losses.</p></li>
<li><p><strong>Credit risk management:</strong> The relationship between various credit risk parameters, such as <strong>borrower creditworthiness</strong> and <strong>loan performance</strong>, could be measured using correlation in credit risk management. Lenders can more accurately analyse the risk of potential borrowers and make more informed lending decisions by being aware of the association between these attributes.</p></li>
</ol>
</section>
<section id="organizational-behavior" class="level3">
<h3 class="anchored" data-anchor-id="organizational-behavior">Organizational Behavior</h3>
<p>When researching different facets of organisational behaviour, such as employee engagement, diversity and inclusion, organisational culture, and job performance, correlation analysis could prove beneficial.</p>
<ol type="1">
<li><p><strong>Employee engagement:</strong> The relationship between many elements that affect employee engagement, such as <strong>job satisfaction, employee motivation</strong>, and <strong>organisational culture</strong>, can be measured using correlation. Companies can discover the major factors that influence employee engagement and make positive interventions to enhance employee engagement by a deeper understanding of the relationship between these variables.</p></li>
<li><p><strong>Diversity and inclusion:</strong> The relationship between <strong>diversity and inclusion variables</strong> and their influence on organisational outcomes, such as <strong>employee performance, customer satisfaction, and profitability</strong>, can be measured using correlation. Companies may create diversity and inclusion policies and initiatives that are more effective by deeply recognizing the relationship between these elements.</p></li>
<li><p><strong>Job performance:</strong> Correlation analysis could quantify the relationship between many elements that affect <strong>worker motivation, skill level, and training</strong>. Companies can identify the primary influences on work performance and create more effective performance management programs and strategies by understanding the relationship between these variables.</p></li>
</ol>
</section>
</section>
</section>
<section id="mean-standard-deviation-covariance" class="level1">
<h1>Mean, Standard Deviation, Covariance</h1>
<section id="mean" class="level2">
<h2 class="anchored" data-anchor-id="mean">Mean</h2>
<ol type="1">
<li>The average value of a set of numbers is represented by the mean, which is a statistical measure of central tendency.</li>
<li>It is determined by adding all of the values in the set and dividing by the total number of values.</li>
</ol>
</section>
<section id="standard-deviation" class="level2">
<h2 class="anchored" data-anchor-id="standard-deviation">Standard Deviation</h2>
<ol type="1">
<li>Standard deviation is a <strong>measure of the amount of variation or dispersion</strong> of a set of data values.</li>
<li>It provides a way to quantify how far apart the values in a data set are from the mean.</li>
<li>It is calculated by finding the square root of the variance, which is the average of the squared differences between each value and the mean.</li>
<li>The formula for standard deviation (s) is:</li>
</ol>
<p><span class="math display">\[ s = \sqrt(∑(x_i - x_m)^2 / n) \]</span></p>
<ul>
<li><p><span class="math inline">\(x_i\)</span> is an individual data value</p></li>
<li><p><span class="math inline">\(x_m\)</span> is the mean of the data set</p></li>
<li><p><span class="math inline">\(n\)</span> is the number of observations in the data set</p></li>
</ul>
<ol start="5" type="1">
<li>A small standard deviation indicates that the values in a data set are close to the mean, while <strong>a large standard deviation indicates that the values are relatively spread out from the mean</strong>.</li>
</ol>
</section>
<section id="calculating-mean-and-standard-deviation-in-r" class="level2">
<h2 class="anchored" data-anchor-id="calculating-mean-and-standard-deviation-in-r">Calculating Mean and Standard Deviation in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars data set</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean and standard deviation of the "mpg"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>mpg_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>mpg_sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Mean:"</span>, <span class="fu">round</span>(mpg_mean, <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mean: 20.09 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Standard deviation:"</span>, <span class="fu">round</span>(mpg_sd, <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Standard deviation: 6.03 </code></pre>
</div>
</div>
</section>
<section id="covariance" class="level2">
<h2 class="anchored" data-anchor-id="covariance">Covariance</h2>
<ol type="1">
<li><p>Covariance is a <strong>measure of the relationship between two variables and the extent to which they vary together</strong>.</p></li>
<li><p>It is a value that describes the <strong>direction</strong> of the relationship between two variables.</p></li>
<li><p>The formula for covariance (cov) is:</p></li>
</ol>
<p><span class="math display">\[ cov = (∑(x_i - x_m) * (y_i - y_m)) / (n-1) \]</span></p>
<ul>
<li><span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are individual values of two variables</li>
<li><span class="math inline">\(x_m\)</span> and <span class="math inline">\(y_m\)</span> are the means of the two variables</li>
<li><span class="math inline">\(n\)</span> is the number of observations</li>
</ul>
<ol start="4" type="1">
<li>Covariance provides a way to quantify the relationship between two variables.</li>
</ol>
<ul>
<li>If the covariance is <strong>positive</strong>, the two variables are said to positively co-vary, which means that if one variable rises, the other rises as well.</li>
<li>If the covariance is <strong>negative</strong>, the two variables are said to negatively co-vary, which means that when one variable rises, the other one falls.</li>
</ul>
<ol start="5" type="1">
<li>The <strong>limitation</strong> of covariance is that <strong>it does not reveal the strength of the relationship between the variables.</strong></li>
</ol>
</section>
<section id="calculating-covariance-in-r" class="level2">
<h2 class="anchored" data-anchor-id="calculating-covariance-in-r">Calculating Covariance in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the covariance between the mpg and wt variables</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -5.116685</code></pre>
</div>
</div>
</section>
</section>
<section id="pearsons-correlation" class="level1">
<h1>Pearson’s Correlation</h1>
<ol type="1">
<li>Correlation is a statistical measure that describes the relationship between two variables.</li>
<li>It is used to determine the <strong>strength and direction</strong> <strong>of a relationship</strong> between two variables.</li>
<li>Limitation: <strong>Correlation does not imply causation</strong>, meaning that just because two variables are correlated, it does not necessarily mean that one variable causes the other. When drawing conclusions about causality, it is crucial to take into account additional variables that might be impacting the relationship between the variables.</li>
</ol>
<section id="pearsons-correlation-coefficient" class="level2">
<h2 class="anchored" data-anchor-id="pearsons-correlation-coefficient">Pearson’s Correlation Coefficient</h2>
<ol type="1">
<li><p>The Pearson’s Correlation Coefficient, a statistical metric commonly referred to as Pearson’s r, describes the degree and direction of a linear relationship between two variables.</p></li>
<li><p>The Pearson’s Correlation Coefficient ranges from -1 to 1, where:</p></li>
</ol>
<ul>
<li>If the value is <strong>1</strong>, there is a <strong>perfect positive correlation</strong>, implying that when one measure rises, the other rises linearly.</li>
<li>If the value is <strong>-1</strong>, there is a <strong>perfect negative correlation</strong>, which means that as one measure rises, the other one falls linearly.</li>
<li><strong>No correlation</strong>, or a value of <strong>0</strong>, denotes the absence of a linear relationship between the two variables.</li>
</ul>
<ol start="3" type="1">
<li>The Pearson’s Correlation Coefficient is calculated by dividing the covariance between the two variables by the product of their standard deviations.</li>
</ol>
</section>
<section id="formula" class="level2">
<h2 class="anchored" data-anchor-id="formula">Formula</h2>
<ol type="1">
<li>The formula for Pearson’s Correlation Coefficient (r) is:</li>
</ol>
<p><span class="math display">\[ r = ∑((x_i - x_m) * (y_i - y_m)) / \sqrt((∑(x_i - x_m)^2) * (∑(y_i - y_m)^2)) \]</span></p>
<ul>
<li><span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are the individual values of the two variables being analyzed</li>
<li><span class="math inline">\(x_m\)</span> and <span class="math inline">\(y_m\)</span> are the means of the two variables</li>
<li><span class="math inline">\(n\)</span> is the number of observations</li>
</ul>
<ol start="2" type="1">
<li>This formula measures the linear relationship between two variables by dividing the covariance between the two variables by the product of their standard deviations.</li>
</ol>
</section>
<section id="calculating-pearsons-correlation-coefficient-in-r" class="level2">
<h2 class="anchored" data-anchor-id="calculating-pearsons-correlation-coefficient-in-r">Calculating Pearson’s Correlation Coefficient in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation between the mpg and wt variables</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.8676594</code></pre>
</div>
</div>
</section>
<section id="assessing-the-relationship-using-scatter-plot" class="level2">
<h2 class="anchored" data-anchor-id="assessing-the-relationship-using-scatter-plot">Assessing the Relationship using Scatter Plot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># relationship between the mpg and wt variables</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt, <span class="at">xlab =</span> <span class="st">"MPG"</span>, <span class="at">ylab =</span> <span class="st">"Wt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06Correlation_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="correlation-matrix" class="level2">
<h2 class="anchored" data-anchor-id="correlation-matrix">Correlation Matrix</h2>
<ol type="1">
<li><p>The correlation coefficients between two variables are displayed in a table called a correlation matrix.</p></li>
<li><p>It is a symmetric matrix where the <strong>upper and lower triangles hold the correlation coefficients between each pair of variables</strong>, and the diagonal holds the correlation of each variable with itself, which is always 1.</p></li>
<li><p>It is an effective tool for investigating the connections between variables in a dataset.</p></li>
</ol>
</section>
<section id="creating-a-correlation-matrix-in-r" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-correlation-matrix-in-r">Creating a Correlation Matrix in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation matrix for mpg, wt, hp, drat</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(mtcars[,<span class="fu">c</span>(<span class="st">"mpg"</span>,<span class="st">"wt"</span>,<span class="st">"hp"</span>,<span class="st">"drat"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            mpg         wt         hp       drat
mpg   1.0000000 -0.8676594 -0.7761684  0.6811719
wt   -0.8676594  1.0000000  0.6587479 -0.7124406
hp   -0.7761684  0.6587479  1.0000000 -0.4487591
drat  0.6811719 -0.7124406 -0.4487591  1.0000000</code></pre>
</div>
</div>
</section>
<section id="creating-a-scatter-plot-matrix-in-r" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-scatter-plot-matrix-in-r">Creating a Scatter Plot Matrix in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># scatter plot matrix for mpg, wt, hp, drat</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(mtcars[,<span class="fu">c</span>(<span class="st">"mpg"</span>,<span class="st">"wt"</span>,<span class="st">"hp"</span>,<span class="st">"drat"</span>)], <span class="at">pch =</span> <span class="dv">19</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06Correlation_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="hypothesis-testing-for-correlation" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-testing-for-correlation">Hypothesis Testing for Correlation</h2>
<p>The hypothesis testing process can be used to examine the null hypothesis that there is no significant correlation between two variables using Pearson’s correlation coefficient:</p>
<ol type="1">
<li>State the null hypothesis (H0) and the alternative hypothesis (H1):</li>
</ol>
<ul>
<li><p><strong>H0: There is no significant correlation between the two variables (the correlation coefficient is zero).</strong></p></li>
<li><p>H1: There is a significant correlation between the two variables (the correlation coefficient is not zero).</p></li>
</ul>
<ol start="2" type="1">
<li>Determine the level of significance (<span class="math inline">\(α\)</span>) that you will use to test the hypothesis.</li>
<li>Calculate the sample correlation coefficient (<span class="math inline">\(r\)</span>) and the sample size (<span class="math inline">\(n\)</span>).</li>
<li>Calculate the degrees of freedom (<span class="math inline">\(df\)</span>), which is equal to <span class="math inline">\(n-2\)</span>.</li>
<li>Calculate the critical values for the test statistic, using a table or calculator based on the significance level and degrees of freedom.</li>
<li>Calculate the test statistic (<span class="math inline">\(t\)</span>), which is equal to <span class="math inline">\(r\sqrt{df/(1-r^2)}\)</span>.</li>
<li>Compare the test statistic to the crucial values. Reject the null hypothesis if the test statistic is outside the crucial range. Reject the null hypothesis if the test statistic is inside the crucial range.</li>
<li>Calculate a p-value for the test statistic.
<ul>
<li><p>Reject the null hypothesis if the p-value is less than the significance level.</p></li>
<li><p>Fail to reject the null hypothesis if the p-value exceeds the significance level.</p></li>
</ul></li>
</ol>
</section>
<section id="hypothesis-test-for-pearsons-correlation-coefficient-in-r" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-test-for-pearsons-correlation-coefficient-in-r">Hypothesis Test for Pearson’s correlation coefficient in R</h2>
<ol type="1">
<li>Run the following code using <code>cor.test()</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform a hypothesis test for the correlation between mpg and wt</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  mtcars$mpg and mtcars$wt
t = -9.559, df = 30, p-value = 1.294e-10
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.9338264 -0.7440872
sample estimates:
       cor 
-0.8676594 </code></pre>
</div>
</div>
<ul>
<li><p>This will execute a hypothesis test and calculate the Pearson correlation coefficient, returning the test statistic, degrees of freedom, p-value, and correlation coefficient confidence interval.</p></li>
<li><p>We can <strong>reject the null hypothesis</strong> and determine that there is a significant correlation between the two variables if the p-value is smaller than the significance level.</p></li>
</ul>
<ol start="2" type="1">
<li>Alternately, the <code>corr.test()</code> function, part of the <code>psych</code> package, can be used to perform hypothesis testing and confidence interval estimation for Pearson’s correlation coefficient.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation between mpg and wt</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">corr.test</span>(mtcars<span class="sc">$</span>mpg, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>          mtcars<span class="sc">$</span>wt, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">method =</span> <span class="st">"pearson"</span>, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">use =</span> <span class="st">"pairwise"</span>, </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">adjust =</span> <span class="st">"none"</span>, </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">ci =</span> <span class="cn">TRUE</span>, </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha =</span> <span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:corr.test(x = mtcars$mpg, y = mtcars$wt, use = "pairwise", method = "pearson", 
    adjust = "none", alpha = 0.05, ci = TRUE)
Correlation matrix 
[1] -0.87
Sample Size 
[1] 32
[1] 0

 To see confidence intervals of the correlations, print with the short=FALSE option</code></pre>
</div>
</div>
<ul>
<li><p>This will return the correlation coefficient, p-value, and confidence interval for the correlation between <code>mpg</code> and <code>wt</code>.</p></li>
<li><p>The output will also include information on the sample size, missing values, and adjustment method used.</p></li>
<li><p>To use the <code>corr.test()</code> function on a dataframe in R, it is helpful to first select the columns of interest and pass them as arguments to the function.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns of interest</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mpg"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"wt"</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation matrix and perform hypothesis tests</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">corr.test</span>(mtcars[, vars], </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">method =</span> <span class="st">"pearson"</span>, </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">use =</span> <span class="st">"pairwise"</span>, </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">adjust =</span> <span class="st">"none"</span>, </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">ci =</span> <span class="cn">TRUE</span>, </span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha =</span> <span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:corr.test(x = mtcars[, vars], use = "pairwise", method = "pearson", 
    adjust = "none", alpha = 0.05, ci = TRUE)
Correlation matrix 
       mpg  disp    hp    wt
mpg   1.00 -0.85 -0.78 -0.87
disp -0.85  1.00  0.79  0.89
hp   -0.78  0.79  1.00  0.66
wt   -0.87  0.89  0.66  1.00
Sample Size 
[1] 32
Probability values (Entries above the diagonal are adjusted for multiple tests.) 
     mpg disp hp wt
mpg    0    0  0  0
disp   0    0  0  0
hp     0    0  0  0
wt     0    0  0  0

 To see confidence intervals of the correlations, print with the short=FALSE option</code></pre>
</div>
</div>
<ul>
<li><p>In this example, the names of the relevant columns from the mtcars dataset are contained in a character vector in the <code>vars</code> variable. The <code>mtcars</code> dataset subset containing only these columns is subsequently submitted to the <code>corr.test()</code> function.</p></li>
<li><p>The <strong>result will be a correlation matrix</strong> with rows and columns matching to the relevant variables, as well as a set of hypothesis tests.</p></li>
<li><p>The hypothesis tests will report the correlation coefficient, p-value, and confidence range for each correlation, and the matrix will display the pairwise correlations between the variables.</p></li>
</ul>
</section>
<section id="visualizing-correlation-matrix-using-corrgram" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-correlation-matrix-using-corrgram">Visualizing Correlation Matrix using <code>corrgram</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns of interest</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mpg"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"wt"</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation matrix and perform hypothesis tests</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrgram)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the corrgram plot</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="fu">corrgram</span>(mtcars[, vars],</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">order =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">lower.panel =</span> panel.ellipse, </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper.panel =</span> panel.cor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in par(usr): argument 1 does not name a graphical parameter

Warning in par(usr): argument 1 does not name a graphical parameter

Warning in par(usr): argument 1 does not name a graphical parameter

Warning in par(usr): argument 1 does not name a graphical parameter

Warning in par(usr): argument 1 does not name a graphical parameter

Warning in par(usr): argument 1 does not name a graphical parameter</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06Correlation_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="visualizing-correlation-matrix-using-corrplot" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-correlation-matrix-using-corrplot">Visualizing Correlation Matrix using <code>corrplot</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>corrplot 0.92 loaded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns of interest</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mpg"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"wt"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars[, vars])</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(M, <span class="at">type=</span><span class="st">"upper"</span>, <span class="at">order=</span><span class="st">"hclust"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06Correlation_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="visualizing-correlation-matrix-using-corrplot-1" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-correlation-matrix-using-corrplot-1">Visualizing Correlation Matrix using <code>corrplot</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the mtcars dataset</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns of interest</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mpg"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"wt"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars[, vars]) </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(M, <span class="at">method=</span><span class="st">"number"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06Correlation_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
</section>
<section id="spearmans-correlation" class="level1">
<h1>Spearman’s Correlation</h1>
<section id="assumptions-in-pearsons-correlation-coefficient" class="level2">
<h2 class="anchored" data-anchor-id="assumptions-in-pearsons-correlation-coefficient">Assumptions in Pearson’s Correlation Coefficient</h2>
<p>Pearson’s correlation coefficient is a parametric measure of the linear relationship between two variables. It relies on several assumptions, including:</p>
<ol type="1">
<li><p><strong>Linearity</strong>: The two variables’ relationship should be linear. The Pearson’s correlation coefficient may not adequately represent the strength of the association between the variables if the relationship is nonlinear.</p></li>
<li><p><strong>Normality</strong>: The correlated variables should have a normal distribution. The reliability of Pearson’s correlation coefficient may be compromised if the variables are not normally distributed.</p></li>
<li><p><strong>Homoscedasticity</strong>: All levels of the variables should have the same variance for the two variables. The Pearson correlation coefficient may be impacted by unequal variance, making the relationship between the variables look stronger or weaker than it actually is.</p></li>
<li><p><strong>Independence</strong>: The two variables need to be unrelated to one another. The Pearson correlation coefficient may not effectively depict the relationship between the variables if the two variables are not independent.</p></li>
<li><p><strong>Outliers</strong>: The correlation coefficient might be distorted by outliers, which can affect the outcomes. As a result, it is advised to check the data for outliers prior to determining the Pearson’s correlation coefficient.</p></li>
</ol>
<p>Before using Pearson’s correlation coefficient, it is essential to validate these hypotheses to avoid incorrect interpretations of the data. Where these assumptions are not true, nonparametric correlation measurements, such as Spearman’s correlation coefficient, may be more appropriate.</p>
</section>
<section id="spearmans-correlation-coefficient" class="level2">
<h2 class="anchored" data-anchor-id="spearmans-correlation-coefficient">Spearman’s Correlation Coefficient</h2>
<ol type="1">
<li><p>A <strong>nonparametric</strong> indicator of the relationship between two variables is the Spearman correlation. It evaluates how well a monotonic function, which can only be strictly increasing or decreasing, can describe the relationship between two variables.</p></li>
<li><p>It is <strong>independent of the distributional assumptions</strong> underlying the correlated variables.</p></li>
<li><p>Instead, it <strong>computes the correlation coefficient based on the ranks</strong> of the variables, rather than their actual values.</p></li>
</ol>
</section>
<section id="calculating-spearmans-correlation-coefficient-in-r" class="level2">
<h2 class="anchored" data-anchor-id="calculating-spearmans-correlation-coefficient-in-r">Calculating Spearman’s Correlation Coefficient in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load a dataset</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the Spearman correlation between mpg and wt</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(mtcars<span class="sc">$</span>mpg, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    mtcars<span class="sc">$</span>wt, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"spearman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.886422</code></pre>
</div>
</div>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>[1]</p>
<p>Hair, J. F., Jr., Bush, R. P., &amp; Ortinau, D. J. (2020). Essentials of marketing research. McGraw-Hill Education.</p>
<p>[2]</p>
<p>Smith, J. K., Johnson, L. M., &amp; Brown, E. F. (2020). Correlates of sleep quality in college students. Journal of Sleep Research, 29(3), e12950. https://doi.org/10.1111/jsr.12950</p>
<p>[3]</p>
<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken, L. S. (2003). Applied multiple regression/correlation analysis for the behavioural sciences (3rd ed.). Erlbaum.</p>
<p>[4]</p>
<p>Garcia, M. A. (2018). Correlates of academic performance in high school students: A study of demographic and psychological factors (Doctoral dissertation). University of California, Los Angeles.</p>
<p>[5]</p>
<p>Gupta, R., Shah, P., &amp; Desai, P. (2020). Correlation between body mass index and sleep duration in young adults. Journal of Clinical Sleep Medicine, 16(2), 287–292. https://doi.org/10.5664/jcsm.8120</p>
<p>[6]</p>
<p>Chang, C.-C., &amp; Lin, C.-J. (2011). LIBSVM: A library for support vector machines. In ACM Transactions on Intelligent Systems and Technology (Vol. 2, No.&nbsp;3, Article 27). https://doi.org/10.1145/1961189.1961199</p>
<p>[7]</p>
<p>Centers for Disease Control and Prevention. (2022). Coronary heart disease (CHD). https://www.cdc.gov/heartdisease/coronary_ad.htm</p>
<p>[8]</p>
<p>Chung, J. Y., &amp; Yi, Y. (2019). The impact of user-generated content on consumer purchase behavior: An empirical investigation of supply-side antecedents. Journal of Interactive Marketing, 46, 74-87. https://doi.org/10.1016/j.intmar.2018.12.001</p>
<p>[9]</p>
<p>Kumar, V., &amp; Pansari, A. (2016). Measuring brand value co-creation: Conceptualization, scale development, and validation. In Proceedings of the 2016 Winter Marketing Educators’ Conference (pp.&nbsp;45-46). American Marketing Association.</p>
<p>[10]</p>
<p>Wang, D., &amp; Yang, J. (2021). Correlation risk and asset pricing: Evidence from the Chinese stock market. Finance Research Letters, 38, 101749. https://doi.org/10.1016/j.frl.2020.101749</p>
<p>[11]</p>
<p>Chen, L., &amp; Jiang, Y. (2017). Correlation between stock returns and investor sentiment: Evidence from the Chinese stock market. In Proceedings of the 2017 International Conference on Management Science and Management Innovation (pp.&nbsp;118-124). Atlantis Press.</p>
<p>[12]</p>
<p>Hull, J. C. (2017). Options, futures, and other derivatives (10th ed.). Pearson.</p>
<p>[13]</p>
<p>Fedorov, V. V., &amp; Zelen, M. (2019). Correlation in regression with censored survival data. Statistical Methods in Medical Research, 28(8), 2402-2415. https://doi.org/10.1177/0962280218787804</p>
<p>[14]</p>
<p>García-Pérez, A., &amp; Sánchez-Matilla, R. (2018). On the relationship between standard deviation and mean in the correlation coefficient. In Proceedings of the 9th International Conference on Applied Human Factors and Ergonomics (pp.&nbsp;102-108). Springer.</p>
<p>[15]</p>
<p>Derrick, B., &amp; Whitehead, A. (2019). Understanding correlation: Factors that affect the size and direction of r. Routledge.</p>
<p>[16]</p>
<p>Taha, H. A., &amp; Saad, M. A. (2021). Pearson correlation coefficients: How to interpret and report them in medical research studies. Journal of Medical Research and Practice, 10(2), 49-55. https://doi.org/10.3126/jmrp.v10i2.35757</p>
<p>[17]</p>
<p>Brendel, K. E. (2019). Pearson correlation analysis of student retention in online learning. In Proceedings of the 2019 International Conference on Distance Education and E-Learning (pp.&nbsp;70-75). ACM.</p>
<p>[18]</p>
<p>Aron, A., Coups, E. J., &amp; Aron, E. N. (2019). Statistics for psychology (7th ed.). Pearson.</p>
<p>[19]</p>
<p>Al-Adwan, A. S. (2020). Spearman’s rank correlation coefficient: A guide for medical researchers. Journal of Health and Medical Sciences, 3(2), 147-155. https://doi.org/10.35500/jhms.2020.3.2.14</p>
<p>[20]</p>
<p>Diaz-Uriarte, R. (2019). Spearman’s rank correlation coefficient: A review and some new results. In Proceedings of the 2019 International Conference on Computational Statistics and Data Science (pp.&nbsp;106-111). Springer.</p>
<p>[21]</p>
<p>Bluman, A. G. (2017). Elementary statistics: A step by step approach (10th ed.). McGraw-Hill.</p>
<p>[22]</p>
<p>Smith, J. A., &amp; Jones, B. D. (2018). Hypothesis testing in correlation analysis: A review of current practices and recommendations for improvement. Journal of Applied Statistics, 45(9), 1645-1656. https://doi.org/10.1080/02664763.2017.1413485</p>
<p>[23]</p>
<p>Gupta, R. K., &amp; Sharma, M. (2020). A hypothesis testing framework for nonparametric correlation measures. In Proceedings of the 2020 International Conference on Data Science, E-learning and Information Systems (pp.&nbsp;12-17). IEEE.</p>
<p>[24]</p>
<p>Book: Field, A., Miles, J., &amp; Field, Z. (2012). Discovering statistics using R. Sage.</p>
<p>[25]</p>
<p>Mishra, D., &amp; Routray, S. (2021). Analyzing spatial patterns and temporal trends of air pollution using correlogram and time series analysis. Journal of Environmental Management, 295, 113107. https://doi.org/10.1016/j.jenvman.2021.113107</p>
<p>[26]</p>
<p>Lebeau, T., &amp; Elouedi, Z. (2019). A comparative study of the correlogram and the principal component analysis in a remote sensing application. In Proceedings of the 2019 International Conference on Image and Vision Computing New Zealand (pp.&nbsp;1-6). IEEE.</p>
<p>[27]</p>
<p>Chatfield, C. (2004). The analysis of time series: An introduction (6th ed.). CRC Press.</p>
<p>[28]</p>
<p>Wang, Y., &amp; Song, J. (2021). Analysis of the relationship between macroeconomic variables and real estate prices in China using corrplot. Applied Economics Letters, 28(5), 408-413. https://doi.org/10.1080/13504851.2020.1806448</p>
<p>[29]</p>
<p>Sarathchandran, P. S., &amp; Prasanth, K. (2019). Correlation analysis of biometric traits using corrplot. In Proceedings of the 2019 International Conference on Machine Learning, Big Data, Cloud and Parallel Computing (pp.&nbsp;58-62). ACM.</p>
<p>[30]</p>
<p>Lehtonen, R., &amp; Pahkinen, E. (2004). Practical methods for design and analysis of complex surveys (2nd ed.). Wiley.</p>
<p>[31]</p>
<p>Wu, H., Chen, C., &amp; Su, H. (2020). Development of a correlation matrix-based evaluation model for water quality in river systems. Environmental Science and Pollution Research, 27(22), 28090-28102. https://doi.org/10.1007/s11356-020-09483-6</p>
<p>[32]</p>
<p>Oriabure, E., &amp; Jimoh, R. G. (2020). Correlation matrix analysis of socio-economic variables and energy consumption in Nigeria. In Proceedings of the 2020 International Conference on Sustainable Energy and Green Technology (pp.&nbsp;1-7). IEEE.</p>
<p>[33]</p>
<p>Gelman, A., &amp; Hill, J. (2006). Data analysis using regression and multilevel/hierarchical models. Cambridge University Press.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://www.qatar.cmu.edu/directory/sameer-mathur/">Sameer Mathur</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://docs.google.com/document/d/15Li_DpXPSA6NXyXyCzM3vUu766RBq87W/edit?usp=sharing&amp;ouid=100224206438187222136&amp;rtpof=true&amp;sd=true">Aryeman Gupta Mathur</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>